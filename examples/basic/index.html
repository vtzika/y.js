<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Yieldr Pixel - Basic Example</title>
</head>
<body>
  <h1>Basic Example</h1>
  <p>In this example it is demonstrated how a simple tracking call is made. After including the yieldr tracking javasscript tag, you may set properties to values that you wish to transmit to the server. This is done using:</p>
  <pre><code>y.set('key', 'value')</code></pre>
  <p>For a successful tracking call, either a (pixel) <code>id</code> or an <code>advertiser_id</code> must be present.</p>
  <p>The Yieldr tracking pixel groups users for use in A-B tests. The users are marked using a cookie and the ab group they belong to is transmitted to the server.</p>

  <script type = "text/javascript">
    (function(y, l, d, r) {
      y['YieldrTrackingObject'] = r;
      y[r] = y[r] || {
        data: {},
        set: function(name, value) {
          this.data[name] = value;
        }
      };
      if (!y[r].loaded) {
        var s = l.createElement("script");
        s.async = true;
        s.src = d;
        l.getElementsByTagName("head")[0].appendChild(s);
        y[r].loaded = true;
      }
    })(window, document, "../../lib/y.js", "y");

    y.set("advertiser_id", 7);
  </script>

  <a href="javascript:!function(){var a=window[window.YieldrTrackingObject];if(void 0!==a){var b=a.callback;a.callback=function(a){var c=a.data.cases,d=document.createElement('div');d.style.position='absolute',d.style.right='20px',d.style.top='20px',d.style.opacity=1,d.style.background='#52ac59 url(http://yieldr.com/images/logo.svg) 15% 50% no-repeat',d.style.padding='8px 18px 8px 124px',d.style.border='1px solid #d1d1d1',d.style.borderRadius='6px',d.style.boxShadow='0px 1px 8px 1px #a2a2a2',d.style.fontFamily='IdealSans-Book-Pro, sans-serif',d.style.color='#f2f2f2',d.innerHTML='<p>'+c+'</p>',document.body.appendChild(d),window.setTimeout(function(){var a=window.setInterval(function(){d.style.opacity>0?d.style.opacity-=.01:(d.remove(),window.clearInterval(a))},10)},3e3);for(var e=0;e<c.length;e++){var f=c[e],g=new XMLHttpRequest;g.open('GET','https://my.yieldr.com/api/case-test/'+f,!0),g.send()}this.callback=b},window.ydResponse=a.callback,a.track()}}();">Yieldr | Pixel Test</a>
</body>
</html>
